{"data":{"allAnantCassandralinks":{"edges":[{"node":{"title":"tuplejump/snackfs-release","alternative_id":11776,"content":"<article class=\"markdown-body entry-content\" itemprop=\"text\"><p><a href=\"http://tuplejump.github.io/calliope/snackfs.html\" rel=\"nofollow\">SnackFS @ Calliope</a></p>\n<p>SnackFS is our bite-sized, lightweight HDFS compatible FileSystem built over Cassandra.\nWith it's unique fat driver design it requires no additional SysOps or setup on the Cassanndra Cluster. All you have to do is point to your Cassandra cluster and you are ready to go.</p>\n<p>As SnackFS was written as a dropin replacement for HDFS, your existing HDFS backed applications not only run as-is on SnackFS, but they also run faster!\nSnackFS cluster is also more resilient than a HDFS cluster as there is no SPOF like the NameNode.</p>\n<h2><a id=\"user-content-prerequisites\" class=\"anchor\" aria-hidden=\"true\" href=\"#prerequisites\"></a>Prerequisites</h2>\n<ol><li>\n<p>SBT : It can be set up from the instructions <a href=\"http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html#installing-sbt\" rel=\"nofollow\">here</a>.</p>\n</li>\n<li>\n<p>Cassandra(v1.2.12) : Instructions can be found <a href=\"http://wiki.apache.org/cassandra/GettingStarted\" rel=\"nofollow\">here</a>. An easier alternative would be using <a href=\"https://github.com/pcmanus/ccm\">CCM</a></p>\n</li>\n</ol><h2><a id=\"user-content-using-snackfs\" class=\"anchor\" aria-hidden=\"true\" href=\"#using-snackfs\"></a>Using SnackFS</h2>\n<h3><a id=\"user-content-use-the-binary\" class=\"anchor\" aria-hidden=\"true\" href=\"#use-the-binary\"></a>Use the binary</h3>\n<ul><li>\n<p>You can download the SnackFS distribution built with <a href=\"http://bit.ly/1eKV1ae\" rel=\"nofollow\">Scala 2.9.x here</a> and <a href=\"http://bit.ly/1jI7vVw\" rel=\"nofollow\">Scala 2.10.x here</a></p>\n</li>\n<li>\n<p>To add SnackFS to your SBT project use,</p>\n</li>\n</ul><p>For SBT</p>\n<div class=\"highlight highlight-source-scala\"><pre>\"com.tuplejump\" %% \"snackfs\" % \"0.6.1-EA\"</pre></div>\n<ul><li>To add SnackFS to your Maven project use,\nwith Scala 2.9.3 use,</li>\n</ul><div class=\"highlight highlight-text-xml\"><pre>&lt;dependency&gt;\n  &lt;groupId&gt;com.tuplejump&lt;/groupId&gt;\n  &lt;artifactId&gt;snackfs_2.9.3&lt;/artifactId&gt;\n  &lt;version&gt;0.6.1-EA&lt;/version&gt;\n&lt;/dependency&gt;</pre></div>\n<p>And with Scala 2.10.3,</p>\n<div class=\"highlight highlight-text-xml\"><pre>&lt;dependency&gt;\n  &lt;groupId&gt;com.tuplejump&lt;/groupId&gt;\n  &lt;artifactId&gt;snackfs_2.10&lt;/artifactId&gt;\n  &lt;version&gt;0.6.1-EA&lt;/version&gt;\n&lt;/dependency&gt;</pre></div>\n<h3><a id=\"user-content-build-from-source\" class=\"anchor\" aria-hidden=\"true\" href=\"#build-from-source\"></a>Build from Source</h3>\n<ol><li>\n<p>Checkout the source from <a href=\"http://github.com/tuplejump/snackfs\">http://github.com/tuplejump/snackfs</a></p>\n</li>\n<li>\n<p>To build SnackFS distribution run sbt's dist command in the project directory</p>\n</li>\n</ol><pre>[snackfs]$ sbt dist\n</pre>\n<p>This will result in a \"snackfs-{version}.tgz\" file in the \"target\" directory of \"snackfs\".\nExtract \"snackfs-{version}.tgz\" to the desired location.</p>\n<ol start=\"3\"><li>\n<p>Start Cassandra (default setup for snackfs assumes its a cluster with 3 nodes)</p>\n</li>\n<li>\n<p>It is possible to configure the file system by updating core-site.xml.\nThe following properties can be added.</p>\n<ul><li>snackfs.cassandra.host (default 127.0.0.1)</li>\n<li>snackfs.cassandra.port (default 9160)</li>\n<li>snackfs.consistencyLevel.write (default QUORUM)</li>\n<li>snackfs.consistencyLevel.read (default QUORUM)</li>\n<li>snackfs.keyspace (default snackfs)</li>\n<li>snackfs.subblock.size (default 8 MB (8 * 1024 * 1024))</li>\n<li>snackfs.block.size (default 128 MB (128 * 1024 * 1024))</li>\n<li>snackfs.replicationFactor (default 3)</li>\n<li>snackfs.replicationStrategy (default org.apache.cassandra.locator.SimpleStrategy)</li>\n</ul></li>\n<li>\n<p>SnackFS Shell provides the fs commands similar to Hadoop Shell. For example to create a directory,</p>\n</li>\n</ol><pre>[Snackfs(extracted)]$bin/snackfs -mkdir snackfs:///random\n</pre>\n<p>###To build and use with Hadoop</p>\n<ol><li>\n<p>Setup Apache Hadoop v1.0.4.(<a href=\"http://hadoop.apache.org/#Getting+Started\" rel=\"nofollow\">http://hadoop.apache.org/#Getting+Started</a>). The base directory will be referred as 'hadoop-1.0.4' in the following steps.</p>\n</li>\n<li>\n<p>Execute the following commands in the snackfs project directory.</p>\n</li>\n</ol><pre>[snackfs]$ sbt package\n</pre>\n<p>This will result in a \"snackfs_&lt;scala_version&gt;-&lt;version&gt;.jar\" file in the \"target/scala-&lt;scala_version&gt;\" directory of \"snackfs\".\nCopy the jar to 'hadoop-1.0.4/lib'.</p>\n<ol start=\"3\"><li>\n<p>Copy all the jars in snackfs/lib_managed and scala-library-&lt;scala_version&gt;.jar\n(located at '~/.ivy2/cache/org.scala-lang/scala-library/jars') to 'hadoop-1.0.4/lib'.</p>\n</li>\n<li>\n<p>Copy snackfs/src/main/resources/core-site.xml to 'hadoop-1.0.4/conf'</p>\n</li>\n<li>\n<p>Start Cassandra (default setup for snackfs assumes its a cluster with 3 nodes)</p>\n</li>\n<li>\n<p>Hadoop fs commands can now be run using snackfs. For example,</p>\n</li>\n</ol><pre>[hadoop-1.0.4]$ bin/hadoop fs -mkdir snackfs:///random\n</pre>\n<p>###To configure logging,</p>\n<h4><a id=\"user-content-in-system-environment\" class=\"anchor\" aria-hidden=\"true\" href=\"#in-system-environment\"></a>In System Environment</h4>\n<p>Set SNACKFS_LOG_LEVEL in the Shell to one of the following Values</p>\n<ul><li>DEBUG</li>\n<li>INFO</li>\n<li>ERROR</li>\n<li>ALL</li>\n<li>OFF</li>\n</ul><p>Default value if not set if ERROR</p>\n<p>####In code (for further control/tuning)\nIf you want your logs in a File, update LogConfiguration.scala like below</p>\n<div class=\"highlight highlight-source-scala\"><pre>val config = new LoggerFactory(\"\", Option(Level.ALL), List(FileHandler(\"logs\")), true)</pre></div>\n<p>The arguments for LoggerFactory are</p>\n<ol><li>node - Name of the logging node. (\"\") is the top-level logger.</li>\n<li>level - Log level for this node. Leaving it None implies the parent logger's level.</li>\n<li>handlers - Where to send log messages.</li>\n<li>useParents - indicates if log messages are passed up to parent nodes.To stop at this node level, set it to false</li>\n</ol><p>Additional logging configuration details can be found <a href=\"https://github.com/twitter/util/tree/master/util-logging#configuring\">here</a></p>\n</article>"}}]}},"pageContext":{"alternative_id":11776}}