{"data":{"allAnantCassandralinks":{"edges":[{"node":{"title":"markthebault/importCSVSparkCassandra","alternative_id":9069,"content":"<h3>\n      \n      README.md\n    </h3><article class=\"markdown-body entry-content\" itemprop=\"text\">\n<p>This short example will show you how easily is to import CSV files from your AWS S3 buckets\nusing spark into cassandra.</p>\n<h2><a href=\"#setting-up-your-applicaiton\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-setting-up-your-applicaiton\"></a>Setting up your applicaiton</h2>\n<p>Clone this repository <code>git clone http://gitlab.ippon.fr/mthebault/simplecsvexportspark.git</code>\nOpen the file 'src/main/ressources/project.conf' and change your settings.</p>\n<p><strong>You need to change the following values:</strong></p>\n<ul><li>Cassandra\n<ul><li>host</li>\n<li>port</li>\n<li>keyspace</li>\n<li>table</li>\n</ul></li>\n<li>AWS\n<ul><li>accessKey</li>\n<li>secretKey</li>\n<li>bucket</li>\n<li>fileName</li>\n</ul></li>\n</ul><h2><a href=\"#build-a-jar\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-build-a-jar\"></a>Build a jar</h2>\n<p>To build the Jar of your application you just need to run the command <code>sbt clean assembly</code></p>\n<h2><a href=\"#deploy-the-jar-on-a-spark-cluster\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-deploy-the-jar-on-a-spark-cluster\"></a>Deploy the Jar on a spark cluster</h2>\n<p>To deploy a jar on a spark cluster you have to make sure you have the port 7077 accessible from the outside.\nYou have to push this Jar to a S3 public bucket <code>aws s3 cp ./target/scala-2.10/ImportCSV.jar s3://YOUR_BUCKET/ImportCVS.jar</code></p>\n<p><em><strong>Once you have done that, you just need to run the spark-submit command as following:</strong></em></p>\n<pre>$SPARK_HOME/bin/spark-submit \\\n\t--verbose \\\n\t--master spark://IP_SPARK_MASTER:PORT \\\n\t--deploy-mode cluster \\\n\t--driver-class-path /spark/spark-1.6.1-bin-hadoop2.6/lib/spark-assembly-1.6.1-hadoop2.6.0.jar \\\n\t--class Application \\\n\thttps://s3-eu-west-1.amazonaws.com/YOUR_BUCKET/ImportCSV.jar\n</pre>\n<p><em><strong>Note:</strong></em>\nHere I am using a public s3 bucket for the jars. If you want to use your private buckets you can use the following link:\n<code>http://AWS_S3_ACCESS_KEY:AWS_S3_SECRET_KEY@YOUR_BUCKET/ImportCSV.jar</code>\nplease consider of the http link have to be encoded <a href=\"http://www.freeformatter.com/url-encoder.html\" rel=\"nofollow\">you can use this website to encode the link</a></p>\n<h2><a href=\"#next\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-next\"></a>Next</h2>\n<p>If you want to contribute to this project feel free to do it, if you see some mistake please leave me an issue.</p>\n</article>"}}]}},"pageContext":{"alternative_id":9069}}