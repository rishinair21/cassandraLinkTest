{"data":{"allAnantCassandralinks":{"edges":[{"node":{"title":"calvinlfer/compose-cassandra-cluster","alternative_id":4947,"content":"<h3>\n      <svg aria-hidden=\"true\" class=\"octicon octicon-book\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"/>\n      README.md\n    </h3><article class=\"markdown-body entry-content\" itemprop=\"text\"><p>A <code>docker-compose</code> blueprint that describes a 3 node Cassandra cluster.\nIt only exposes important Cassandra ports on the seed node to the host\nmachine. Internally, all of the nodes will be a part of the same Docker\nnetwork and will form a cluster using that Docker network.</p>\n<h2><a href=\"https://github.com/calvinlfer/compose-cassandra-cluster#instructions\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-instructions\"><svg aria-hidden=\"true\" class=\"octicon octicon-link\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"/></a>Instructions</h2>\n<p>In order to bring up the cluster:</p>\n<ul><li>Use <code>docker-compose up</code> to see the logs of all the containers</li>\n<li>Use <code>docker-compose up -d</code> if you want it to run in the foreground</li>\n</ul><p>In order to clean up the cluster, use <code>docker-compose down</code></p>\n<h2><a href=\"https://github.com/calvinlfer/compose-cassandra-cluster#notes\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-notes\"><svg aria-hidden=\"true\" class=\"octicon octicon-link\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"/></a>Notes</h2>\n<p>You need to make sure that the Docker daemon has enough of resources\notherwise you will encounter exit code 137 (Out of Memory Killer) on\nyour containers.</p>\n<p>When you create a single node cluster and you try to add more nodes to\nthe cluster, you must add them one by one. This means that you cannot\nhave multiple nodes join the cluster (by pointing to the seed node) at\nthe same time. You must add a cluster, wait for it to join the ring and\nstabilize before you can begin to add another cluster. This is why you\nwill see an additional delay on start up between the non-seed nodes.\nIf you attempt to join a new node whilst stabilization has not yet been\nachieved, you will see an error like this:</p>\n<pre>ERROR [main] 2017-08-22 23:19:11,055 CassandraDaemon.java:706 - Exception encountered during startup\njava.lang.UnsupportedOperationException: Other bootstrapping/leaving/moving nodes detected, cannot bootstrap while cassandra.consistent.rangemovement is true\n</pre>\n<p>This <a href=\"http://thelastpickle.com/blog/2017/05/23/auto-bootstrapping-part1.html\" rel=\"nofollow\">article</a>\ndiscusses the implications of turning <code>cassandra.consistent.rangemovement</code>\noff.</p>\n<h3><a href=\"https://github.com/calvinlfer/compose-cassandra-cluster#credits\" aria-hidden=\"true\" class=\"anchor\" id=\"user-content-credits\"><svg aria-hidden=\"true\" class=\"octicon octicon-link\" height=\"16\" version=\"1.1\" viewbox=\"0 0 16 16\" width=\"16\"/></a>Credits</h3>\n<ul><li><a href=\"http://thelastpickle.com/blog\" rel=\"nofollow\">The Last Pickle</a></li>\n</ul></article>"}}]}},"pageContext":{"alternative_id":4947}}