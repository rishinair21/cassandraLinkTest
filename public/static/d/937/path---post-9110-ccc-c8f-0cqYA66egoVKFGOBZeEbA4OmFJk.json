{"data":{"allAnantCassandralinks":{"edges":[{"node":{"title":"wildengineer/cassandra-data-copy-tool","alternative_id":9110,"content":"<p>This simple java based tool copies data from a live cassandra table to another. The source and destination tables do not need to be on the same cluster or keyspace. All you need to ensure is that the destination table is compatible with the source table.</p><h3>Build</h3><p>The project requires:</p><ul><li>Java 8</li>\n<li>Maven 2 or later versions to run.</li>\n</ul><p>Once you've got your environment setup run from the project directory.</p><blockquote>\n<p>mvn package</p>\n</blockquote><p>This builds a jar in ./target/cassandra-data-copy-tool--SNAPSHOT.jar\"</p><h3>Configuration</h3><p>To configure the tool you'll need to create a properties file. Here's an example:</p><pre>copy.tables=table1,table2,table3=&gt;other_table4,...,tableN\ncopy.ignoreColumns=tab1e1.columnX,table2.columnY\ncopy.batchSize=20000\ncopy.queryPageSize=1000\ncopy.batchesPerSecond=1\nsource.cassandra.contactPoints=127.0.0.1\nsource.cassandra.port=9142\nsource.cassandra.keyspace=test_keyspace\nsource.cassandra.username=cassandra\nsource.cassandra.password=cassandra\ndestination.cassandra.contactPoints=127.0.0.1\ndestination.cassandra.port=9142\ndestination.cassandra.keyspace=test_keyspace\ndestination.cassandra.username=cassandra\ndestination.cassandra.password=cassandra\n</pre><h4>Properties</h4><p>There are three configuration groups:</p><ul><li>Copy</li>\n<li>Source</li>\n<li>Destination</li>\n</ul><h5>Copy</h5><table><thead><tr><th>Property Name</th>\n<th>Description</th>\n<th>Default Value</th>\n</tr></thead><tbody><tr><td>copy.tables</td>\n<td>A column delimited list of table names to copy. If the table names don't match between source and destination use source_table=&gt;dest_table</td>\n<td>\"\"</td>\n</tr><tr><td>copy.ignoreColumns</td>\n<td>A comma delimited list of columns from the source to ignore. Format is TABLE_NAME.COLUMN_NAME</td>\n<td>\"\"</td>\n</tr><tr><td>copy.batchSize</td>\n<td>Size of batches to insert into destination database.</td>\n<td>20000</td>\n</tr><tr><td>copy.queryPageSize</td>\n<td>Size of pages as read from source</td>\n<td>1000</td>\n</tr><tr><td>copy.batchesPerSecond</td>\n<td>Maximum rate of batches copied per second</td>\n<td>1</td>\n</tr></tbody></table><h5>Source</h5><table><thead><tr><th>Property Name</th>\n<th>Description</th>\n<th>Default Value</th>\n</tr></thead><tbody><tr><td>source.cassandra.contactPoints</td>\n<td>Comma delimited list of source cluster's contact points</td>\n<td>127.0.0.1</td>\n</tr><tr><td>source.cassandra.port</td>\n<td>Source cluster's port</td>\n<td>9142</td>\n</tr><tr><td>source.cassandra.keyspace</td>\n<td>Source keyspace name</td>\n<td>\"\"</td>\n</tr><tr><td>source.cassandra.username</td>\n<td>Source username</td>\n<td>cassandra</td>\n</tr><tr><td>source.cassandra.password</td>\n<td>Source plaintext password</td>\n<td>cassandra</td>\n</tr></tbody></table><h5>Destination</h5><table><thead><tr><th>Property Name</th>\n<th>Description</th>\n<th>Default Value</th>\n</tr></thead><tbody><tr><td>destination.cassandra.contactPoints</td>\n<td>Comma delimited list of destination cluster's contact points</td>\n<td>127.0.0.1</td>\n</tr><tr><td>destination.cassandra.port</td>\n<td>Destination cluster's port</td>\n<td>9142</td>\n</tr><tr><td>destination.cassandra.keyspace</td>\n<td>Destination keyspace name</td>\n<td>\"\"</td>\n</tr><tr><td>destination.cassandra.username</td>\n<td>Destination username</td>\n<td>cassandra</td>\n</tr><tr><td>destination.cassandra.password</td>\n<td>Destination plaintext password</td>\n<td>cassandra</td>\n</tr></tbody></table><h3>Run</h3><p>Once you have your property file ready, simply run:</p><blockquote>\n<p>java -jar cassandra-data-copy-tool--SNAPSHOT.jar --spring.config.location=/path/to/config.properties</p>\n</blockquote>"}}]}},"pageContext":{"alternative_id":9110}}